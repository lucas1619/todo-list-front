{"remainingRequest":"/home/lucas/Desktop/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lucas/Desktop/test/src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/home/lucas/Desktop/test/src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue","mtime":1611055082000},{"path":"/home/lucas/Desktop/test/node_modules/css-loader/dist/cjs.js","mtime":1646760975182},{"path":"/home/lucas/Desktop/test/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1646760975954},{"path":"/home/lucas/Desktop/test/node_modules/postcss-loader/src/index.js","mtime":1646760975438},{"path":"/home/lucas/Desktop/test/node_modules/sass-loader/dist/cjs.js","mtime":1646760974730},{"path":"/home/lucas/Desktop/test/node_modules/cache-loader/dist/cjs.js","mtime":1646760974730},{"path":"/home/lucas/Desktop/test/node_modules/vue-loader/lib/index.js","mtime":1646760975666}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgJ0Bjb3JlL3Njc3MvdnVlL2xpYnMvdnVlLXNlbGVjdC5zY3NzJzsKQGltcG9ydCAnQGNvcmUvc2Nzcy92dWUvbGlicy92dWUtZmxhdHBpY2tlci5zY3NzJzsK"},{"version":3,"sources":["CalendarEventHandler.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0YA;AACA","file":"CalendarEventHandler.vue","sourceRoot":"src/views/apps/calendar/calendar-event-handler","sourcesContent":["<template>\n  <div>\n    <b-sidebar\n      id=\"sidebar-add-new-event\"\n      sidebar-class=\"sidebar-lg\"\n      :visible=\"isEventHandlerSidebarActive\"\n      bg-variant=\"white\"\n      shadow\n      backdrop\n      no-header\n      right\n      @change=\"(val) => $emit('update:is-event-handler-sidebar-active', val)\"\n    >\n      <template #default=\"{ hide }\">\n        <!-- Header -->\n        <div class=\"d-flex justify-content-between align-items-center content-sidebar-header px-2 py-1\">\n          <h5 class=\"mb-0\">\n            {{ eventLocal.id ? 'Update': 'Add' }} Event\n          </h5>\n          <div>\n            <feather-icon\n              v-if=\"eventLocal.id\"\n              icon=\"TrashIcon\"\n              class=\"cursor-pointer\"\n              @click=\"$emit('remove-event'); hide();\"\n            />\n            <feather-icon\n              class=\"ml-1 cursor-pointer\"\n              icon=\"XIcon\"\n              size=\"16\"\n              @click=\"hide\"\n            />\n          </div>\n        </div>\n\n        <!-- Body -->\n        <validation-observer\n          #default=\"{ handleSubmit }\"\n          ref=\"refFormObserver\"\n        >\n\n          <!-- Form -->\n          <b-form\n            class=\"p-2\"\n            @submit.prevent=\"handleSubmit(onSubmit)\"\n            @reset.prevent=\"resetForm\"\n          >\n\n            <!-- Title -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Title\"\n              rules=\"required\"\n            >\n              <b-form-group\n                label=\"Title\"\n                label-for=\"event-title\"\n              >\n                <b-form-input\n                  id=\"event-title\"\n                  v-model=\"eventLocal.title\"\n                  autofocus\n                  :state=\"getValidationState(validationContext)\"\n                  trim\n                  placeholder=\"Event Title\"\n                />\n\n                <b-form-invalid-feedback>\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- Calendar -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Calendar\"\n              rules=\"required\"\n            >\n\n              <b-form-group\n                label=\"Calendar\"\n                label-for=\"calendar\"\n                :state=\"getValidationState(validationContext)\"\n              >\n                <v-select\n                  v-model=\"eventLocal.extendedProps.calendar\"\n                  :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                  :options=\"calendarOptions\"\n                  label=\"label\"\n                  :reduce=\"calendar => calendar.label\"\n                  input-id=\"calendar\"\n                >\n\n                  <template #option=\"{ color, label }\">\n                    <div\n                      class=\"rounded-circle d-inline-block mr-50\"\n                      :class=\"`bg-${color}`\"\n                      style=\"height:10px;width:10px\"\n                    />\n                    <span> {{ label }}</span>\n                  </template>\n\n                  <template #selected-option=\"{ color, label }\">\n                    <div\n                      class=\"rounded-circle d-inline-block mr-50\"\n                      :class=\"`bg-${color}`\"\n                      style=\"height:10px;width:10px\"\n                    />\n                    <span> {{ label }}</span>\n                  </template>\n                </v-select>\n\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- Start Date -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Start Date\"\n              rules=\"required\"\n            >\n\n              <b-form-group\n                label=\"Start Date\"\n                label-for=\"start-date\"\n                :state=\"getValidationState(validationContext)\"\n              >\n                <flat-pickr\n                  v-model=\"eventLocal.start\"\n                  class=\"form-control\"\n                  :config=\"{ enableTime: true, dateFormat: 'Y-m-d H:i'}\"\n                />\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- End Date -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"End Date\"\n              rules=\"required\"\n            >\n\n              <b-form-group\n                label=\"End Date\"\n                label-for=\"end-date\"\n                :state=\"getValidationState(validationContext)\"\n              >\n                <flat-pickr\n                  v-model=\"eventLocal.end\"\n                  class=\"form-control\"\n                  :config=\"{ enableTime: true, dateFormat: 'Y-m-d H:i'}\"\n                />\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- All Day -->\n            <b-form-group>\n              <b-form-checkbox\n                v-model=\"eventLocal.allDay\"\n                name=\"check-button\"\n                switch\n                inline\n              >\n                All Day\n              </b-form-checkbox>\n            </b-form-group>\n\n            <!-- Event URL -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Event URL\"\n              rules=\"url\"\n            >\n\n              <b-form-group\n                label=\"Event URL\"\n                label-for=\"event-url\"\n              >\n                <b-form-input\n                  id=\"event-url\"\n                  v-model=\"eventLocal.eventUrl\"\n                  type=\"url\"\n                  :state=\"getValidationState(validationContext)\"\n                  placeholder=\"htttps://www.google.com\"\n                  trim\n                />\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- Guests -->\n            <b-form-group\n              label=\"Add Guests\"\n              label-for=\"add-guests\"\n            >\n              <v-select\n                v-model=\"eventLocal.extendedProps.guests\"\n                :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                multiple\n                :close-on-select=\"false\"\n                :options=\"guestsOptions\"\n                label=\"name\"\n                input-id=\"add-guests\"\n              >\n\n                <template #option=\"{ avatar, name }\">\n                  <b-avatar\n                    size=\"sm\"\n                    :src=\"avatar\"\n                  />\n                  <span class=\"ml-50 align-middle\"> {{ name }}</span>\n                </template>\n\n                <template #selected-option=\"{ avatar, name }\">\n                  <b-avatar\n                    size=\"sm\"\n                    class=\"border border-white\"\n                    :src=\"avatar\"\n                  />\n                  <span class=\"ml-50 align-middle\"> {{ name }}</span>\n                </template>\n              </v-select>\n            </b-form-group>\n\n            <!-- Location -->\n            <b-form-group\n              label=\"Location\"\n              label-for=\"event-location\"\n            >\n              <b-form-input\n                id=\"event-location\"\n                v-model=\"eventLocal.extendedProps.location\"\n                trim\n                placeholder=\"Event Location\"\n              />\n            </b-form-group>\n\n            <!-- Textarea -->\n            <b-form-group\n              label=\"Description\"\n              label-for=\"event-description\"\n            >\n              <b-form-textarea\n                id=\"event-description\"\n                v-model=\"eventLocal.extendedProps.description\"\n              />\n            </b-form-group>\n\n            <!-- Form Actions -->\n            <div class=\"d-flex mt-2\">\n              <b-button\n                v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                variant=\"primary\"\n                class=\"mr-2\"\n                type=\"submit\"\n              >\n                {{ eventLocal.id ? 'Update' : 'Add ' }}\n              </b-button>\n              <b-button\n                v-ripple.400=\"'rgba(186, 191, 199, 0.15)'\"\n                type=\"reset\"\n                variant=\"outline-secondary\"\n              >\n                Reset\n              </b-button>\n            </div>\n          </b-form>\n        </validation-observer>\n      </template>\n    </b-sidebar>\n  </div>\n</template>\n\n<script>\nimport {\n  BSidebar, BForm, BFormGroup, BFormInput, BFormCheckbox, BAvatar, BFormTextarea, BButton, BFormInvalidFeedback,\n} from 'bootstrap-vue'\nimport vSelect from 'vue-select'\nimport flatPickr from 'vue-flatpickr-component'\nimport Ripple from 'vue-ripple-directive'\nimport { ValidationProvider, ValidationObserver } from 'vee-validate'\nimport { required, email, url } from '@validations'\nimport formValidation from '@core/comp-functions/forms/form-validation'\nimport { ref, toRefs } from '@vue/composition-api'\nimport useCalendarEventHandler from './useCalendarEventHandler'\n\nexport default {\n  components: {\n    BButton,\n    BSidebar,\n    BForm,\n    BFormGroup,\n    BFormInput,\n    BFormCheckbox,\n    BFormTextarea,\n    BAvatar,\n    vSelect,\n    flatPickr,\n    ValidationProvider,\n    BFormInvalidFeedback,\n    ValidationObserver,\n  },\n  directives: {\n    Ripple,\n  },\n  model: {\n    prop: 'isEventHandlerSidebarActive',\n    event: 'update:is-event-handler-sidebar-active',\n  },\n  props: {\n    isEventHandlerSidebarActive: {\n      type: Boolean,\n      required: true,\n    },\n    event: {\n      type: Object,\n      required: true,\n    },\n    clearEventData: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      required,\n      email,\n      url,\n    }\n  },\n  setup(props, { emit }) {\n    /*\n     ? This is handled quite differently in SFC due to deadlock of `useFormValidation` and this composition function.\n     ? If we don't handle it the way it is being handled then either of two composition function used by this SFC get undefined as one of it's argument.\n     * The Trick:\n\n     * We created reactive property `clearFormData` and set to null so we can get `resetEventLocal` from `useCalendarEventHandler` composition function.\n     * Once we get `resetEventLocal` function which is required by `useFormValidation` we will pass it to `useFormValidation` and in return we will get `clearForm` function which shall be original value of `clearFormData`.\n     * Later we just assign `clearForm` to `clearFormData` and can resolve the deadlock. 😎\n\n     ? Behind The Scene\n     ? When we passed it to `useCalendarEventHandler` for first time it will be null but right after it we are getting correct value (which is `clearForm`) and assigning that correct value.\n     ? As `clearFormData` is reactive it is being changed from `null` to corrent value and thanks to reactivity it is also update in `useCalendarEventHandler` composition function and it is getting correct value in second time and can work w/o any issues.\n    */\n    const clearFormData = ref(null)\n\n    const {\n      eventLocal,\n      resetEventLocal,\n      calendarOptions,\n\n      // UI\n      onSubmit,\n      guestsOptions,\n    } = useCalendarEventHandler(toRefs(props), clearFormData, emit)\n\n    const {\n      refFormObserver,\n      getValidationState,\n      resetForm,\n      clearForm,\n    } = formValidation(resetEventLocal, props.clearEventData)\n\n    clearFormData.value = clearForm\n\n    return {\n      // Add New Event\n      eventLocal,\n      calendarOptions,\n      onSubmit,\n      guestsOptions,\n\n      // Form Validation\n      resetForm,\n      refFormObserver,\n      getValidationState,\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import '@core/scss/vue/libs/vue-select.scss';\n@import '@core/scss/vue/libs/vue-flatpicker.scss';\n</style>\n"]}]}