{"remainingRequest":"/home/lucas/Desktop/test/node_modules/babel-loader/lib/index.js!/home/lucas/Desktop/test/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/lucas/Desktop/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lucas/Desktop/test/src/views/forms/form-element/autosuggest/AutoSuggestAjax.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lucas/Desktop/test/src/views/forms/form-element/autosuggest/AutoSuggestAjax.vue","mtime":1611055082000},{"path":"/home/lucas/Desktop/test/babel.config.js","mtime":1611055082000},{"path":"/home/lucas/Desktop/test/node_modules/cache-loader/dist/cjs.js","mtime":1646760974730},{"path":"/home/lucas/Desktop/test/node_modules/babel-loader/lib/index.js","mtime":1646760975446},{"path":"/home/lucas/Desktop/test/node_modules/cache-loader/dist/cjs.js","mtime":1646760974730},{"path":"/home/lucas/Desktop/test/node_modules/vue-loader/lib/index.js","mtime":1646760975666}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgovKiBlc2xpbnQtZGlzYWJsZSB2dWUvbm8tdW51c2VkLWNvbXBvbmVudHMgKi8KCi8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6IFsiZXJyb3IiLCB7ICJhbGxvd1Nob3J0Q2lyY3VpdCI6IHRydWUgfV0gKi8KaW1wb3J0IEJDYXJkQ29kZSBmcm9tICdAY29yZS9jb21wb25lbnRzL2ItY2FyZC1jb2RlL0JDYXJkQ29kZS52dWUnOwppbXBvcnQgeyBCQ2FyZCwgQkNhcmRUZXh0LCBCQXZhdGFyIH0gZnJvbSAnYm9vdHN0cmFwLXZ1ZSc7CmltcG9ydCB7IFZ1ZUF1dG9zdWdnZXN0IH0gZnJvbSAndnVlLWF1dG9zdWdnZXN0JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgY29kZUFqYXggfSBmcm9tICcuL2NvZGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVnVlQXV0b3N1Z2dlc3Q6IFZ1ZUF1dG9zdWdnZXN0LAogICAgQkNhcmRDb2RlOiBCQ2FyZENvZGUsCiAgICBCQ2FyZDogQkNhcmQsCiAgICBCQ2FyZFRleHQ6IEJDYXJkVGV4dCwKICAgIEJBdmF0YXI6IEJBdmF0YXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiB7CiAgICAgIGNvZGVBamF4OiBjb2RlQWpheCwKICAgICAgcXVlcnk6ICcnLAogICAgICByZXN1bHRzOiBbXSwKICAgICAgdGltZW91dDogbnVsbCwKICAgICAgc2VsZWN0ZWQ6IG51bGwsCiAgICAgIGRlYm91bmNlTWlsbGlzZWNvbmRzOiAyNTAsCiAgICAgIHVzZXJzVXJsOiAnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3VzZXJzJywKICAgICAgcGhvdG9zVXJsOiAnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bob3RvcycsCiAgICAgIGlucHV0UHJvcHM6IHsKICAgICAgICBpZDogJ2F1dG9zdWdnZXN0X19pbnB1dF9hamF4JywKICAgICAgICBwbGFjZWhvbGRlcjogJ0RvIHlvdSBmZWVsIGx1Y2t5LCBwdW5rPycsCiAgICAgICAgImNsYXNzIjogJ2Zvcm0tY29udHJvbCcsCiAgICAgICAgbmFtZTogJ2FqYXgnCiAgICAgIH0sCiAgICAgIHN1Z2dlc3Rpb25zOiBbXSwKICAgICAgc2VjdGlvbkNvbmZpZ3M6IHsKICAgICAgICBkZXN0aW5hdGlvbnM6IHsKICAgICAgICAgIGxpbWl0OiA2LAogICAgICAgICAgbGFiZWw6ICdEZXN0aW5hdGlvbicsCiAgICAgICAgICBvblNlbGVjdGVkOiBmdW5jdGlvbiBvblNlbGVjdGVkKHNlbGVjdGVkKSB7CiAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWQuaXRlbTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGhvdGVsczogewogICAgICAgICAgbGltaXQ6IDYsCiAgICAgICAgICBsYWJlbDogJ0hvdGVscycsCiAgICAgICAgICBvblNlbGVjdGVkOiBmdW5jdGlvbiBvblNlbGVjdGVkKHNlbGVjdGVkKSB7CiAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWQuaXRlbTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaFJlc3VsdHM6IGZ1bmN0aW9uIGZldGNoUmVzdWx0cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJ5OwogICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTsKICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHBob3Rvc1Byb21pc2UgPSBheGlvcy5nZXQoX3RoaXMyLnBob3Rvc1VybCk7CiAgICAgICAgdmFyIHVzZXJzUHJvbWlzZSA9IGF4aW9zLmdldChfdGhpczIudXNlcnNVcmwpOwogICAgICAgIFByb21pc2UuYWxsKFtwaG90b3NQcm9taXNlLCB1c2Vyc1Byb21pc2VdKS50aGVuKGZ1bmN0aW9uICh2YWx1ZXMpIHsKICAgICAgICAgIF90aGlzMi5zdWdnZXN0aW9ucyA9IFtdOwogICAgICAgICAgX3RoaXMyLnNlbGVjdGVkID0gbnVsbDsKCiAgICAgICAgICB2YXIgcGhvdG9zID0gX3RoaXMyLmZpbHRlclJlc3VsdHModmFsdWVzWzBdLmRhdGEsIHF1ZXJ5LCAndGl0bGUnKTsKCiAgICAgICAgICB2YXIgdXNlcnMgPSBfdGhpczIuZmlsdGVyUmVzdWx0cyh2YWx1ZXNbMV0uZGF0YSwgcXVlcnksICduYW1lJyk7CgogICAgICAgICAgdXNlcnMubGVuZ3RoICYmIF90aGlzMi5zdWdnZXN0aW9ucy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogJ2Rlc3RpbmF0aW9ucycsCiAgICAgICAgICAgIGRhdGE6IHVzZXJzCiAgICAgICAgICB9KTsKICAgICAgICAgIHBob3Rvcy5sZW5ndGggJiYgX3RoaXMyLnN1Z2dlc3Rpb25zLnB1c2goewogICAgICAgICAgICBuYW1lOiAnaG90ZWxzJywKICAgICAgICAgICAgZGF0YTogcGhvdG9zCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSwgdGhpcy5kZWJvdW5jZU1pbGxpc2Vjb25kcyk7CiAgICB9LAogICAgZmlsdGVyUmVzdWx0czogZnVuY3Rpb24gZmlsdGVyUmVzdWx0cyhkYXRhLCB0ZXh0LCBmaWVsZCkgewogICAgICByZXR1cm4gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoaXRlbVtmaWVsZF0udG9Mb3dlckNhc2UoKS5pbmRleE9mKHRleHQudG9Mb3dlckNhc2UoKSkgPiAtMSkgewogICAgICAgICAgcmV0dXJuIGl0ZW1bZmllbGRdOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9KS5zb3J0KCk7CiAgICB9LAogICAgcmVuZGVyU3VnZ2VzdGlvbjogZnVuY3Rpb24gcmVuZGVyU3VnZ2VzdGlvbihzdWdnZXN0aW9uKSB7CiAgICAgIHZhciBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsKCiAgICAgIGlmIChzdWdnZXN0aW9uLm5hbWUgPT09ICdob3RlbHMnKSB7CiAgICAgICAgdmFyIGltYWdlID0gc3VnZ2VzdGlvbi5pdGVtOwogICAgICAgIHJldHVybiBoKCJkaXYiLCB7CiAgICAgICAgICAiY2xhc3MiOiAiZC1mbGV4IgogICAgICAgIH0sIFtoKCJkaXYiLCBbaCgiYi1hdmF0YXIiLCB7CiAgICAgICAgICAiYXR0cnMiOiB7CiAgICAgICAgICAgICJzcmMiOiBpbWFnZS50aHVtYm5haWxVcmwKICAgICAgICAgIH0sCiAgICAgICAgICAiY2xhc3MiOiAibXItNTAiCiAgICAgICAgfSldKSwgaCgiZGl2IiwgW2goInNwYW4iLCBbaW1hZ2UudGl0bGVdKV0pXSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzdWdnZXN0aW9uLml0ZW0ubmFtZTsKICAgIH0sCiAgICBnZXRTdWdnZXN0aW9uVmFsdWU6IGZ1bmN0aW9uIGdldFN1Z2dlc3Rpb25WYWx1ZShzdWdnZXN0aW9uKSB7CiAgICAgIHZhciBuYW1lID0gc3VnZ2VzdGlvbi5uYW1lLAogICAgICAgICAgaXRlbSA9IHN1Z2dlc3Rpb24uaXRlbTsKICAgICAgcmV0dXJuIG5hbWUgPT09ICdob3RlbHMnID8gaXRlbS50aXRsZSA6IGl0ZW0ubmFtZTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACAA;AACAC,kCADA;AAEAC,wBAFA;AAGAC,gBAHA;AAIAC,wBAJA;AAKAC;AALA,GADA;AAQAC,MARA,kBAQA;AAAA;;AACA;AACAC,wBADA;AAEAC,eAFA;AAGAC,iBAHA;AAIAC,mBAJA;AAKAC,oBALA;AAMAC,+BANA;AAOAC,4DAPA;AAQAC,8DARA;AASAC;AACAC,qCADA;AAEAC,+CAFA;AAGA,+BAHA;AAIAC;AAJA,OATA;AAeAC,qBAfA;AAgBAC;AACAC;AACAC,kBADA;AAEAC,8BAFA;AAGAC;AACA;AACA;AALA,SADA;AAQAC;AACAH,kBADA;AAEAC,yBAFA;AAGAC;AACA;AACA;AALA;AARA;AAhBA;AAiCA,GA1CA;AA2CAE;AACAC,gBADA,0BACA;AAAA;;AACA;AAEAC;AACA;AACA;AACA;AAEAC;AACA;AACA;;AAEA;;AACA;;AACAC;AAAAZ;AAAAZ;AAAA;AACAyB;AAAAb;AAAAZ;AAAA;AACA,SARA;AASA,OAbA,EAaA,yBAbA;AAcA,KAnBA;AAoBA0B,iBApBA,yBAoBA1B,IApBA,EAoBA2B,IApBA,EAoBAC,KApBA,EAoBA;AACA;AACA;AACA;AACA;;AACA;AACA,OALA,EAKAC,IALA;AAMA,KA3BA;AA4BAC,oBA5BA,4BA4BAC,UA5BA,EA4BA;AAAA;;AACA;AACA;AACA;AAAA,mBACA;AADA;AAAA;AAAA,mBAGAC;AAHA;AAAA,mBAGA;AAHA,mCAMAA,WANA;AAUA;;AACA;AACA,KA3CA;AA4CAC,sBA5CA,8BA4CAF,UA5CA,EA4CA;AACA;AAAA;AACA;AACA;AA/CA;AA3CA","names":["components","VueAutosuggest","BCardCode","BCard","BCardText","BAvatar","data","codeAjax","query","results","timeout","selected","debounceMilliseconds","usersUrl","photosUrl","inputProps","id","placeholder","name","suggestions","sectionConfigs","destinations","limit","label","onSelected","hotels","methods","fetchResults","clearTimeout","Promise","users","photos","filterResults","text","field","sort","renderSuggestion","suggestion","image","getSuggestionValue"],"sourceRoot":"src/views/forms/form-element/autosuggest","sources":["AutoSuggestAjax.vue"],"sourcesContent":["<template>\n  <b-card-code title=\"Ajax\">\n    <vue-autosuggest\n      ref=\"autocomplete\"\n      v-model=\"query\"\n      :suggestions=\"suggestions\"\n      :input-props=\"inputProps\"\n      :section-configs=\"sectionConfigs\"\n      :render-suggestion=\"renderSuggestion\"\n      :get-suggestion-value=\"getSuggestionValue\"\n      @input=\"fetchResults\"\n    />\n\n    <b-card-text class=\"mt-1\">\n      Selected element (object):\n    </b-card-text>\n    <b-card\n      class=\"border\"\n      no-body\n    >\n      <pre>{{ JSON.stringify(selected, null, 4) }}</pre>\n    </b-card>\n\n    <template #code>\n      {{ codeAjax }}\n    </template>\n  </b-card-code>\n</template>\n\n<script>\n/* eslint-disable vue/no-unused-components */\n/* eslint no-unused-expressions: [\"error\", { \"allowShortCircuit\": true }] */\nimport BCardCode from '@core/components/b-card-code/BCardCode.vue'\nimport { BCard, BCardText, BAvatar } from 'bootstrap-vue'\nimport { VueAutosuggest } from 'vue-autosuggest'\nimport axios from 'axios'\nimport { codeAjax } from './code'\n\nexport default {\n  components: {\n    VueAutosuggest,\n    BCardCode,\n    BCard,\n    BCardText,\n    BAvatar,\n  },\n  data() {\n    return {\n      codeAjax,\n      query: '',\n      results: [],\n      timeout: null,\n      selected: null,\n      debounceMilliseconds: 250,\n      usersUrl: 'https://jsonplaceholder.typicode.com/users',\n      photosUrl: 'https://jsonplaceholder.typicode.com/photos',\n      inputProps: {\n        id: 'autosuggest__input_ajax',\n        placeholder: 'Do you feel lucky, punk?',\n        class: 'form-control',\n        name: 'ajax',\n      },\n      suggestions: [],\n      sectionConfigs: {\n        destinations: {\n          limit: 6,\n          label: 'Destination',\n          onSelected: selected => {\n            this.selected = selected.item\n          },\n        },\n        hotels: {\n          limit: 6,\n          label: 'Hotels',\n          onSelected: selected => {\n            this.selected = selected.item\n          },\n        },\n      },\n    }\n  },\n  methods: {\n    fetchResults() {\n      const { query } = this\n\n      clearTimeout(this.timeout)\n      this.timeout = setTimeout(() => {\n        const photosPromise = axios.get(this.photosUrl)\n        const usersPromise = axios.get(this.usersUrl)\n\n        Promise.all([photosPromise, usersPromise]).then(values => {\n          this.suggestions = []\n          this.selected = null\n\n          const photos = this.filterResults(values[0].data, query, 'title')\n          const users = this.filterResults(values[1].data, query, 'name')\n          users.length && this.suggestions.push({ name: 'destinations', data: users })\n          photos.length && this.suggestions.push({ name: 'hotels', data: photos })\n        })\n      }, this.debounceMilliseconds)\n    },\n    filterResults(data, text, field) {\n      return data.filter(item => {\n        if (item[field].toLowerCase().indexOf(text.toLowerCase()) > -1) {\n          return item[field]\n        }\n        return false\n      }).sort()\n    },\n    renderSuggestion(suggestion) {\n      if (suggestion.name === 'hotels') {\n        const image = suggestion.item\n        return (\n          <div class=\"d-flex\">\n            <div>\n              <b-avatar src={image.thumbnailUrl} class=\"mr-50\"></b-avatar>\n            </div>\n            <div>\n              <span>{image.title}</span>\n            </div>\n          </div>\n        )\n      }\n      return suggestion.item.name\n    },\n    getSuggestionValue(suggestion) {\n      const { name, item } = suggestion\n      return name === 'hotels' ? item.title : item.name\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\npre{\n  min-height: 295px;\n  padding: 1.5rem;\n  margin-bottom: 0;\n  border-radius: .5rem;\n}\n</style>\n"]}]}