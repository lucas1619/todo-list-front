{"remainingRequest":"/home/lucas/Desktop/test/node_modules/babel-loader/lib/index.js!/home/lucas/Desktop/test/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/lucas/Desktop/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lucas/Desktop/test/src/views/apps/e-commerce/e-commerce-wishlist/ECommerceWishlist.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lucas/Desktop/test/src/views/apps/e-commerce/e-commerce-wishlist/ECommerceWishlist.vue","mtime":1611055082000},{"path":"/home/lucas/Desktop/test/babel.config.js","mtime":1611055082000},{"path":"/home/lucas/Desktop/test/node_modules/cache-loader/dist/cjs.js","mtime":1646760974730},{"path":"/home/lucas/Desktop/test/node_modules/babel-loader/lib/index.js","mtime":1646760975446},{"path":"/home/lucas/Desktop/test/node_modules/cache-loader/dist/cjs.js","mtime":1646760974730},{"path":"/home/lucas/Desktop/test/node_modules/vue-loader/lib/index.js","mtime":1646760975666}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IEJDYXJkLCBCQ2FyZEJvZHksIEJJbWcsIEJDYXJkVGV4dCwgQkxpbmssIEJCdXR0b24gfSBmcm9tICdib290c3RyYXAtdnVlJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgeyByZWYgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmltcG9ydCB7IHVzZUVjb21tZXJjZSwgdXNlRWNvbW1lcmNlVWkgfSBmcm9tICcuLi91c2VFY29tbWVyY2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQkNhcmQ6IEJDYXJkLAogICAgQkNhcmRCb2R5OiBCQ2FyZEJvZHksCiAgICBCSW1nOiBCSW1nLAogICAgQkNhcmRUZXh0OiBCQ2FyZFRleHQsCiAgICBCTGluazogQkxpbmssCiAgICBCQnV0dG9uOiBCQnV0dG9uCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgX3VzZUVjb21tZXJjZVVpID0gdXNlRWNvbW1lcmNlVWkoKSwKICAgICAgICBoYW5kbGVXaXNobGlzdENhcnRBY3Rpb25DbGljayA9IF91c2VFY29tbWVyY2VVaS5oYW5kbGVXaXNobGlzdENhcnRBY3Rpb25DbGljazsKCiAgICB2YXIgcHJvZHVjdHMgPSByZWYoW10pOwoKICAgIHZhciBfdXNlRWNvbW1lcmNlID0gdXNlRWNvbW1lcmNlKCksCiAgICAgICAgcmVtb3ZlUHJvZHVjdEZyb21XaXNobGlzdCA9IF91c2VFY29tbWVyY2UucmVtb3ZlUHJvZHVjdEZyb21XaXNobGlzdDsKCiAgICB2YXIgcmVtb3ZlUHJvZHVjdEZyb21XaXNobGlzdENsaWNrID0gZnVuY3Rpb24gcmVtb3ZlUHJvZHVjdEZyb21XaXNobGlzdENsaWNrKHByb2R1Y3QpIHsKICAgICAgcmVtb3ZlUHJvZHVjdEZyb21XaXNobGlzdChwcm9kdWN0LmlkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcHJvZHVjdEluZGV4ID0gcHJvZHVjdHMudmFsdWUuZmluZEluZGV4KGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICByZXR1cm4gcC5pZCA9PT0gcHJvZHVjdC5pZDsKICAgICAgICB9KTsKICAgICAgICBwcm9kdWN0cy52YWx1ZS5zcGxpY2UocHJvZHVjdEluZGV4LCAxKTsKICAgICAgfSk7CiAgICB9OwoKICAgIHZhciBmZXRjaFdpc2hsaXN0UHJvZHVjdHMgPSBmdW5jdGlvbiBmZXRjaFdpc2hsaXN0UHJvZHVjdHMoKSB7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCdhcHAtZWNvbW1lcmNlL2ZldGNoV2lzaGxpc3RQcm9kdWN0cycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcHJvZHVjdHMudmFsdWUgPSByZXNwb25zZS5kYXRhLnByb2R1Y3RzOwogICAgICB9KTsKICAgIH07CgogICAgZmV0Y2hXaXNobGlzdFByb2R1Y3RzKCk7CiAgICByZXR1cm4gewogICAgICBwcm9kdWN0czogcHJvZHVjdHMsCiAgICAgIC8vIFVJCiAgICAgIGhhbmRsZVdpc2hsaXN0Q2FydEFjdGlvbkNsaWNrOiBoYW5kbGVXaXNobGlzdENhcnRBY3Rpb25DbGljaywKICAgICAgcmVtb3ZlUHJvZHVjdEZyb21XaXNobGlzdENsaWNrOiByZW1vdmVQcm9kdWN0RnJvbVdpc2hsaXN0Q2xpY2sKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA,SACAA,KADA,EACAC,SADA,EACAC,IADA,EACAC,SADA,EACAC,KADA,EACAC,OADA,QAEA,eAFA;AAGA;AACA;AACA;AAEA;AACAC;AACAN,gBADA;AACAC,wBADA;AACAC,cADA;AACAC,wBADA;AACAC,gBADA;AACAC;AADA,GADA;AAIAE,OAJA,mBAIA;AACA;AAAA;;AAEA;;AAEA;AAAA;;AACA;AACAC,4CACAC,IADA,CACA;AACA;AAAA;AAAA;AACAC;AACA,OAJA;AAKA,KANA;;AAQA;AACAC,4DACAF,IADA,CACA;AACAC;AACA,OAHA;AAIA,KALA;;AAOAE;AAEA;AACAF,wBADA;AAGA;AACAG,kEAJA;AAKAC;AALA;AAOA;AAlCA","names":["BCard","BCardBody","BImg","BCardText","BLink","BButton","components","setup","removeProductFromWishlist","then","products","store","fetchWishlistProducts","handleWishlistCartActionClick","removeProductFromWishlistClick"],"sourceRoot":"src/views/apps/e-commerce/e-commerce-wishlist","sources":["ECommerceWishlist.vue"],"sourcesContent":["<template>\n  <section class=\"grid-view wishlist-items\">\n    <b-card\n      v-for=\"product in products\"\n      :key=\"product.id\"\n      class=\"ecommerce-card\"\n      no-body\n    >\n      <div class=\"item-img text-center\">\n        <b-link :to=\"{ name: 'apps-e-commerce-product-details', params: { slug: product.slug } }\">\n          <b-img\n            :alt=\"`${product.name}-${product.id}`\"\n            fluid\n            class=\"card-img-top\"\n            :src=\"product.image\"\n          />\n        </b-link>\n      </div>\n\n      <!-- Product Details -->\n      <b-card-body>\n        <div class=\"item-wrapper\">\n          <div class=\"item-rating\">\n            <ul class=\"unstyled-list list-inline\">\n              <li\n                v-for=\"star in 5\"\n                :key=\"star\"\n                class=\"ratings-list-item\"\n                :class=\"{'ml-25': star-1}\"\n              >\n                <feather-icon\n                  icon=\"StarIcon\"\n                  size=\"16\"\n                  :class=\"[{'fill-current': star <= product.rating}, star <= product.rating ? 'text-warning' : 'text-muted']\"\n                />\n              </li>\n            </ul>\n          </div>\n          <div>\n            <h6 class=\"item-price\">\n              ${{ product.price }}\n            </h6>\n          </div>\n        </div>\n        <h6 class=\"item-name\">\n          <b-link\n            class=\"text-body\"\n            :to=\"{ name: 'apps-e-commerce-product-details', params: { slug: product.slug } }\"\n          >\n            {{ product.name }}\n          </b-link>\n          <b-card-text class=\"item-company\">\n            By <b-link class=\"ml-25\">\n              {{ product.brand }}\n            </b-link>\n          </b-card-text>\n        </h6>\n        <b-card-text class=\"item-description\">\n          {{ product.description }}\n        </b-card-text>\n      </b-card-body>\n\n      <!-- Action Buttons -->\n      <div class=\"item-options text-center\">\n        <b-button\n          variant=\"light\"\n          class=\"btn-wishlist remove-wishlist\"\n          @click=\"removeProductFromWishlistClick(product)\"\n        >\n          <feather-icon icon=\"XIcon\" />\n          <span>Remove</span>\n        </b-button>\n        <b-button\n          variant=\"primary\"\n          class=\"btn-cart move-cart\"\n          @click=\"handleWishlistCartActionClick(product, removeProductFromWishlistClick)\"\n        >\n          <feather-icon\n            icon=\"ShoppingCartIcon\"\n            class=\"mr-50\"\n          />\n          <span>{{ product.isInCart ? 'View In Cart' : 'Move to Cart' }}</span>\n        </b-button>\n      </div>\n    </b-card>\n  </section>\n</template>\n\n<script>\nimport {\n  BCard, BCardBody, BImg, BCardText, BLink, BButton,\n} from 'bootstrap-vue'\nimport store from '@/store'\nimport { ref } from '@vue/composition-api'\nimport { useEcommerce, useEcommerceUi } from '../useEcommerce'\n\nexport default {\n  components: {\n    BCard, BCardBody, BImg, BCardText, BLink, BButton,\n  },\n  setup() {\n    const { handleWishlistCartActionClick } = useEcommerceUi()\n\n    const products = ref([])\n\n    const { removeProductFromWishlist } = useEcommerce()\n    const removeProductFromWishlistClick = product => {\n      removeProductFromWishlist(product.id)\n        .then(() => {\n          const productIndex = products.value.findIndex(p => p.id === product.id)\n          products.value.splice(productIndex, 1)\n        })\n    }\n\n    const fetchWishlistProducts = () => {\n      store.dispatch('app-ecommerce/fetchWishlistProducts')\n        .then(response => {\n          products.value = response.data.products\n        })\n    }\n\n    fetchWishlistProducts()\n\n    return {\n      products,\n\n      // UI\n      handleWishlistCartActionClick,\n      removeProductFromWishlistClick,\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import \"~@core/scss/base/pages/app-ecommerce.scss\";\n</style>\n"]}]}