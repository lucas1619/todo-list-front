{"remainingRequest":"/home/lucas/Desktop/test/node_modules/babel-loader/lib/index.js!/home/lucas/Desktop/test/src/views/apps/e-commerce/useEcommerce.js","dependencies":[{"path":"/home/lucas/Desktop/test/src/views/apps/e-commerce/useEcommerce.js","mtime":1611055082000},{"path":"/home/lucas/Desktop/test/babel.config.js","mtime":1611055082000},{"path":"/home/lucas/Desktop/test/node_modules/cache-loader/dist/cjs.js","mtime":1646760974730},{"path":"/home/lucas/Desktop/test/node_modules/babel-loader/lib/index.js","mtime":1646760975446}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICdAY29yZS91dGlscy91dGlscyc7CmV4cG9ydCB2YXIgdXNlRWNvbW1lcmNlID0gZnVuY3Rpb24gdXNlRWNvbW1lcmNlKCkgewogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBhcnJvdy1ib2R5LXN0eWxlCiAgdmFyIGFkZFByb2R1Y3RJbldpc2hsaXN0ID0gZnVuY3Rpb24gYWRkUHJvZHVjdEluV2lzaGxpc3QocHJvZHVjdElkKSB7CiAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ2FwcC1lY29tbWVyY2UvYWRkUHJvZHVjdEluV2lzaGxpc3QnLCB7CiAgICAgIHByb2R1Y3RJZDogcHJvZHVjdElkCiAgICB9KTsKICB9OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYXJyb3ctYm9keS1zdHlsZQoKCiAgdmFyIHJlbW92ZVByb2R1Y3RGcm9tV2lzaGxpc3QgPSBmdW5jdGlvbiByZW1vdmVQcm9kdWN0RnJvbVdpc2hsaXN0KHByb2R1Y3RJZCkgewogICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdhcHAtZWNvbW1lcmNlL3JlbW92ZVByb2R1Y3RGcm9tV2lzaGxpc3QnLCB7CiAgICAgIHByb2R1Y3RJZDogcHJvZHVjdElkCiAgICB9KTsKICB9OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYXJyb3ctYm9keS1zdHlsZQoKCiAgdmFyIGFkZFByb2R1Y3RJbkNhcnQgPSBmdW5jdGlvbiBhZGRQcm9kdWN0SW5DYXJ0KHByb2R1Y3RJZCkgewogICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdhcHAtZWNvbW1lcmNlL2FkZFByb2R1Y3RJbkNhcnQnLCB7CiAgICAgIHByb2R1Y3RJZDogcHJvZHVjdElkCiAgICB9KTsKICB9OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYXJyb3ctYm9keS1zdHlsZQoKCiAgdmFyIHJlbW92ZVByb2R1Y3RGcm9tQ2FydCA9IGZ1bmN0aW9uIHJlbW92ZVByb2R1Y3RGcm9tQ2FydChwcm9kdWN0SWQpIHsKICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnYXBwLWVjb21tZXJjZS9yZW1vdmVQcm9kdWN0RnJvbUNhcnQnLCB7CiAgICAgIHByb2R1Y3RJZDogcHJvZHVjdElkCiAgICB9KTsKICB9OwoKICByZXR1cm4gewogICAgYWRkUHJvZHVjdEluV2lzaGxpc3Q6IGFkZFByb2R1Y3RJbldpc2hsaXN0LAogICAgcmVtb3ZlUHJvZHVjdEZyb21XaXNobGlzdDogcmVtb3ZlUHJvZHVjdEZyb21XaXNobGlzdCwKICAgIGFkZFByb2R1Y3RJbkNhcnQ6IGFkZFByb2R1Y3RJbkNhcnQsCiAgICByZW1vdmVQcm9kdWN0RnJvbUNhcnQ6IHJlbW92ZVByb2R1Y3RGcm9tQ2FydAogIH07Cn07CmV4cG9ydCB2YXIgdXNlRWNvbW1lcmNlVWkgPSBmdW5jdGlvbiB1c2VFY29tbWVyY2VVaSgpIHsKICB2YXIgX3VzZVJvdXRlciA9IHVzZVJvdXRlcigpLAogICAgICByb3V0ZXIgPSBfdXNlUm91dGVyLnJvdXRlcjsKCiAgdmFyIHRvZ2dsZVByb2R1Y3RJbldpc2hsaXN0ID0gZnVuY3Rpb24gdG9nZ2xlUHJvZHVjdEluV2lzaGxpc3QocHJvZHVjdCkgewogICAgdmFyIF91c2VFY29tbWVyY2UgPSB1c2VFY29tbWVyY2UoKSwKICAgICAgICBhZGRQcm9kdWN0SW5XaXNobGlzdCA9IF91c2VFY29tbWVyY2UuYWRkUHJvZHVjdEluV2lzaGxpc3QsCiAgICAgICAgcmVtb3ZlUHJvZHVjdEZyb21XaXNobGlzdCA9IF91c2VFY29tbWVyY2UucmVtb3ZlUHJvZHVjdEZyb21XaXNobGlzdDsKCiAgICBpZiAocHJvZHVjdC5pc0luV2lzaGxpc3QpIHsKICAgICAgcmVtb3ZlUHJvZHVjdEZyb21XaXNobGlzdChwcm9kdWN0LmlkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24KICAgICAgICBwcm9kdWN0LmlzSW5XaXNobGlzdCA9IGZhbHNlOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGFkZFByb2R1Y3RJbldpc2hsaXN0KHByb2R1Y3QuaWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbgogICAgICAgIHByb2R1Y3QuaXNJbldpc2hsaXN0ID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9CiAgfTsKCiAgdmFyIGhhbmRsZUNhcnRBY3Rpb25DbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNhcnRBY3Rpb25DbGljayhwcm9kdWN0KSB7CiAgICB2YXIgX3VzZUVjb21tZXJjZTIgPSB1c2VFY29tbWVyY2UoKSwKICAgICAgICBhZGRQcm9kdWN0SW5DYXJ0ID0gX3VzZUVjb21tZXJjZTIuYWRkUHJvZHVjdEluQ2FydDsKCiAgICBpZiAocHJvZHVjdC5pc0luQ2FydCkgewogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ2FwcHMtZS1jb21tZXJjZS1jaGVja291dCcKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBhZGRQcm9kdWN0SW5DYXJ0KHByb2R1Y3QuaWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbgogICAgICAgIHByb2R1Y3QuaXNJbkNhcnQgPSB0cnVlOyAvLyBVcGRhdGUgY2FydCBpdGVtcyBjb3VudAoKICAgICAgICBzdG9yZS5jb21taXQoJ2FwcC1lY29tbWVyY2UvVVBEQVRFX0NBUlRfSVRFTVNfQ09VTlQnLCBzdG9yZS5zdGF0ZVsnYXBwLWVjb21tZXJjZSddLmNhcnRJdGVtc0NvdW50ICsgMSk7CiAgICAgIH0pOwogICAgfQogIH07CgogIHZhciBoYW5kbGVXaXNobGlzdENhcnRBY3Rpb25DbGljayA9IGZ1bmN0aW9uIGhhbmRsZVdpc2hsaXN0Q2FydEFjdGlvbkNsaWNrKHByb2R1Y3QsIHJlbW92ZVByb2R1Y3RGcm9tV2lzaGxpc3RVaSkgewogICAgdmFyIF91c2VFY29tbWVyY2UzID0gdXNlRWNvbW1lcmNlKCksCiAgICAgICAgYWRkUHJvZHVjdEluQ2FydCA9IF91c2VFY29tbWVyY2UzLmFkZFByb2R1Y3RJbkNhcnQsCiAgICAgICAgcmVtb3ZlUHJvZHVjdEZyb21XaXNobGlzdCA9IF91c2VFY29tbWVyY2UzLnJlbW92ZVByb2R1Y3RGcm9tV2lzaGxpc3Q7CgogICAgaWYgKHByb2R1Y3QuaXNJbkNhcnQpIHsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdhcHBzLWUtY29tbWVyY2UtY2hlY2tvdXQnCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgYWRkUHJvZHVjdEluQ2FydChwcm9kdWN0LmlkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24KICAgICAgICBwcm9kdWN0LmlzSW5DYXJ0ID0gdHJ1ZTsKICAgICAgICByZW1vdmVQcm9kdWN0RnJvbVdpc2hsaXN0KHByb2R1Y3QuaWQpOyAvLyBVcGRhdGUgY2FydCBpdGVtcyBjb3VudAoKICAgICAgICBzdG9yZS5jb21taXQoJ2FwcC1lY29tbWVyY2UvVVBEQVRFX0NBUlRfSVRFTVNfQ09VTlQnLCBzdG9yZS5zdGF0ZVsnYXBwLWVjb21tZXJjZSddLmNhcnRJdGVtc0NvdW50ICsgMSk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbgogICAgICAgIHByb2R1Y3QuaXNJbldpc2hsaXN0ID0gZmFsc2U7CiAgICAgICAgcmVtb3ZlUHJvZHVjdEZyb21XaXNobGlzdFVpKHByb2R1Y3QpOwogICAgICB9KTsKICAgIH0KICB9OwoKICByZXR1cm4gewogICAgdG9nZ2xlUHJvZHVjdEluV2lzaGxpc3Q6IHRvZ2dsZVByb2R1Y3RJbldpc2hsaXN0LAogICAgaGFuZGxlQ2FydEFjdGlvbkNsaWNrOiBoYW5kbGVDYXJ0QWN0aW9uQ2xpY2ssCiAgICBoYW5kbGVXaXNobGlzdENhcnRBY3Rpb25DbGljazogaGFuZGxlV2lzaGxpc3RDYXJ0QWN0aW9uQ2xpY2sKICB9Owp9Ow=="},{"version":3,"sources":["/home/lucas/Desktop/test/src/views/apps/e-commerce/useEcommerce.js"],"names":["store","useRouter","useEcommerce","addProductInWishlist","productId","dispatch","removeProductFromWishlist","addProductInCart","removeProductFromCart","useEcommerceUi","router","toggleProductInWishlist","product","isInWishlist","id","then","handleCartActionClick","isInCart","push","name","commit","state","cartItemsCount","handleWishlistCartActionClick","removeProductFromWishlistUi"],"mappings":"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","sourcesContent":["import store from '@/store'\nimport { useRouter } from '@core/utils/utils'\n\nexport const useEcommerce = () => {\n  // eslint-disable-next-line arrow-body-style\n  const addProductInWishlist = productId => {\n    return store.dispatch('app-ecommerce/addProductInWishlist', { productId })\n  }\n\n  // eslint-disable-next-line arrow-body-style\n  const removeProductFromWishlist = productId => {\n    return store.dispatch('app-ecommerce/removeProductFromWishlist', { productId })\n  }\n\n  // eslint-disable-next-line arrow-body-style\n  const addProductInCart = productId => {\n    return store.dispatch('app-ecommerce/addProductInCart', { productId })\n  }\n\n  // eslint-disable-next-line arrow-body-style\n  const removeProductFromCart = productId => {\n    return store.dispatch('app-ecommerce/removeProductFromCart', { productId })\n  }\n\n  return {\n    addProductInWishlist,\n    removeProductFromWishlist,\n    addProductInCart,\n    removeProductFromCart,\n  }\n}\n\nexport const useEcommerceUi = () => {\n  const { router } = useRouter()\n\n  const toggleProductInWishlist = product => {\n    const { addProductInWishlist, removeProductFromWishlist } = useEcommerce()\n    if (product.isInWishlist) {\n      removeProductFromWishlist(product.id).then(() => {\n        // eslint-disable-next-line no-param-reassign\n        product.isInWishlist = false\n      })\n    } else {\n      addProductInWishlist(product.id).then(() => {\n        // eslint-disable-next-line no-param-reassign\n        product.isInWishlist = true\n      })\n    }\n  }\n\n  const handleCartActionClick = product => {\n    const { addProductInCart } = useEcommerce()\n\n    if (product.isInCart) {\n      router.push({ name: 'apps-e-commerce-checkout' })\n    } else {\n      addProductInCart(product.id).then(() => {\n        // eslint-disable-next-line no-param-reassign\n        product.isInCart = true\n\n        // Update cart items count\n        store.commit('app-ecommerce/UPDATE_CART_ITEMS_COUNT', store.state['app-ecommerce'].cartItemsCount + 1)\n      })\n    }\n  }\n\n  const handleWishlistCartActionClick = (product, removeProductFromWishlistUi) => {\n    const { addProductInCart, removeProductFromWishlist } = useEcommerce()\n\n    if (product.isInCart) {\n      router.push({ name: 'apps-e-commerce-checkout' })\n    } else {\n      addProductInCart(product.id)\n        .then(() => {\n          // eslint-disable-next-line no-param-reassign\n          product.isInCart = true\n          removeProductFromWishlist(product.id)\n\n          // Update cart items count\n          store.commit('app-ecommerce/UPDATE_CART_ITEMS_COUNT', store.state['app-ecommerce'].cartItemsCount + 1)\n        })\n        .then(() => {\n          // eslint-disable-next-line no-param-reassign\n          product.isInWishlist = false\n          removeProductFromWishlistUi(product)\n        })\n    }\n  }\n  return {\n    toggleProductInWishlist,\n    handleCartActionClick,\n    handleWishlistCartActionClick,\n  }\n}\n"]}]}